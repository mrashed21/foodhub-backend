model Order {
    id String @id @default(uuid())

    userId String
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)

    providerId String
    provider   Provider @relation(fields: [providerId], references: [id], onDelete: Cascade)

    phone   String
    address String

    totalAmount Float
    status      OrderStatus @default(placed)
    invoice     String?     @unique
    orderItems  OrderItem[]
    review      Review[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model OrderItem {
    id String @id @default(uuid())

    orderId String
    order   Order  @relation(fields: [orderId], references: [id], onDelete: Cascade)

    menuId String
    menu   Menu   @relation(fields: [menuId], references: [id])

    quantity Int
    price    Float

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

enum OrderStatus {
    placed
    preparing
    ready
    delivered
    cancelled
}
